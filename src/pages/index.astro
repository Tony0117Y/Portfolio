---
import "../styles/global.css";
import WordSphere from "../components/WordSphere.astro";

---

<html lang="en">
  <head>
    <script src="https://unpkg.com/three@0.158.0/build/three.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/particlesjs@2.2.3/dist/particles.min.js"></script>
    <meta charset="UTF-8" />
    <title>tyang.dev</title>
    <link rel="icon" href="/T.png" type="image/png" />
  </head>

  <body class="bg-black text-white min-h-screen">

  <div id="particles-js" class="absolute inset-0 z-0"></div>
<!-- navbar -->
<nav class="fixed top-0 left-0 z-50 px-6 py-4">
  <a
  href="mailto:ty030117@gmail.com"
  class="px-4 py-2 font-pixel text-white text-lg border border-white transition-colors hover:bg-white hover:text-black"> 
  Email Me</a>
</nav>
<!-- github and linkedin links -->
<div class="flex justify-end gap-6 text-sm px-6 py-4">
  <a
    href="https://github.com/Tony0117Y"
    target="_blank"
    rel="noopener noreferrer"
    class="hover:text-gray-300 transition-colors font-pixel font-semibold"
  >
    github
  </a>
  <a
    href="https://www.linkedin.com/in/tony-yang-5b0996190/"
    target="_blank"
    rel="noopener noreferrer"
    class="hover:text-gray-300 transition-colors font-pixel font-semibold"
  >
    linkedin
  </a>
</div>
<!-- site title -->
<div class="w-full flex justify-center items-center pt-2 animate-bounce">
  <h2 class="text-2xl md:text-3xl font-pixel font-bold text-white">tyang.dev</h2>
</div>

    <main
    id="home"
  class="scroll-mt-24 
         flex flex-col md:flex-row items-center justify-center
         min-h-screen pt-6 px-6 gap-10"
><!-- picture section -->
  <div class="w-full md:w-1/2">
    <img
      src="\luffy_white.png" 
      alt="Moi"
      class="w-full h-auto object-cover mask-fade-right animate-fade-in-left"
      loading="eager"
    />
  </div>

<!-- intro + sphere -->
  <div class="w-full md:w-1/2 text-center md:text-left -mt-[8rem]">
    <h1 class="text-4xl md:text-5xl mb-4 font-pixel font-semibold">
      Front-End Developer
    </h1>
    <p class="text-lg text-gray-300 font-pixel" >
      My name is Tony, and I’m a fourth-year Computer Science student with a strong interest in
      front-end development. I enjoy building clean, user-friendly web applications
      that focus on both function and design.
    </p>
    <h2 class="text-2xl md:text-3xl font-pixel font-bold mt-[6rem] mb-8 text-center md:text-center">
      &lt;-- Projects --&gt;
    </h2>
  <!-- 3d project word sphere -->
    <WordSphere />
  </div>

  
</main>



<!-- tech stack grid -->
<section
  id="stack"
  class="py-24 px-6"
>
  <h2 class="text-3xl md:text-4xl font-pixel font-bold mb-12 text-center md:text-center">
    &lt;-- Tech Stack --&gt;
  </h2>

  <div
    class="grid grid-cols-3 sm:grid-cols-4 md:grid-cols-6 gap-10 place-items-center"
  >

    <img
      src="https://cdn.jsdelivr.net/gh/devicons/devicon/icons/react/react-original.svg"
      alt="React"
      class="w-12 h-12 md:w-16 md:h-16 grayscale hover:grayscale-0 transition-all opacity-0"
      data-animate
    />
    <img
      src="https://cdn.jsdelivr.net/gh/devicons/devicon/icons/typescript/typescript-original.svg"
      alt="TypeScript"
      class="w-12 h-12 md:w-16 md:h-16 grayscale hover:grayscale-0 transition-all opacity-0"
      data-animate
    />
    <img
      src="https://cdn.jsdelivr.net/gh/devicons/devicon/icons/nextjs/nextjs-original.svg"
      alt="nextjs"
      class="w-12 h-12 md:w-16 md:h-16 grayscale hover:grayscale-0 transition-all opacity-0"
      data-animate
    />
    <img
      src="https://cdn.jsdelivr.net/gh/devicons/devicon/icons/astro/astro-original.svg"
      alt="Astro"
      class="w-12 h-12 md:w-16 md:h-16 grayscale hover:grayscale-0 transition-all opacity-0"
      data-animate
    />
    <img
      src="https://raw.githubusercontent.com/devicons/devicon/6910f0503efdd315c8f9b858234310c06e04d9c0/icons/tailwindcss/tailwindcss-original.svg"
      alt="Tailwind CSS"
      class="w-12 h-12 md:w-16 md:h-16 grayscale hover:grayscale-0 transition-all opacity-0"
      data-animate
    />
    <img
      src="https://cdn.jsdelivr.net/gh/devicons/devicon/icons/javascript/javascript-original.svg"
      alt="JavaScript"
      class="w-12 h-12 md:w-16 md:h-16 grayscale hover:grayscale-0 transition-all opacity-0"
      data-animate
    />
    <img
      src="https://cdn.jsdelivr.net/gh/devicons/devicon/icons/nodejs/nodejs-original.svg"
      alt="Node.js"
      class="w-12 h-12 md:w-16 md:h-16 grayscale hover:grayscale-0 transition-all opacity-0"
      data-animate
    />
    <img
      src="https://cdn.jsdelivr.net/gh/devicons/devicon/icons/vuejs/vuejs-original.svg"
      alt="Vue.js"
      class="w-12 h-12 md:w-16 md:h-16 grayscale hover:grayscale-0 transition-all opacity-0"
      data-animate
    />
    <img
      src="https://cdn.jsdelivr.net/gh/devicons/devicon/icons/firebase/firebase-original.svg"
      alt="firebase"
      class="w-12 h-12 md:w-16 md:h-16 grayscale hover:grayscale-0 transition-all opacity-0"
      data-animate
    />
    <img
      src="https://cdn.jsdelivr.net/gh/devicons/devicon/icons/python/python-original.svg"
      alt="python"
      class="w-12 h-12 md:w-16 md:h-16 grayscale hover:grayscale-0 transition-all opacity-0"
      data-animate
    />
    <img
      src="https://cdn.jsdelivr.net/gh/devicons/devicon/icons/css3/css3-original.svg"
      alt="css"
      class="w-12 h-12 md:w-16 md:h-16 grayscale hover:grayscale-0 transition-all opacity-0"
      data-animate
    />
    <img
      src="https://cdn.jsdelivr.net/gh/devicons/devicon/icons/html5/html5-original.svg"
      alt="html"
      class="w-12 h-12 md:w-16 md:h-16 grayscale hover:grayscale-0 transition-all opacity-0"
      data-animate
    />
  </div>

</section>

<canvas id="meteorCanvas" class="absolute top-0 left-0 w-full h-full z-0 pointer-events-none"></canvas>
  </body>
  <footer class="mt-3 px-6 pb-3 text-center text-sm text-gray-400">
    © 2025 TY — All&nbsp;rights&nbsp;reserved&nbsp;™
  </footer>
  
</html>

<!-- script to trigger animation for stack icons -->
<script is:inline>
  const observer = new IntersectionObserver(
    (entries) => {
      entries.forEach((entry) => {
        if (entry.isIntersecting) {
          entry.target.classList.remove("opacity-0");
          entry.target.classList.add("animate-fade-in-up");
          observer.unobserve(entry.target);
        }
      });
    },
    { threshold: 0.2 }
  );

  document.querySelectorAll("[data-animate]").forEach((el) => observer.observe(el));

  // meteor background canvas
  const canvas = document.getElementById("meteorCanvas");
  const ctx = canvas.getContext("2d");

  let meteors = [];

  function resizeCanvas() {
    canvas.width = window.innerWidth;
    canvas.height = window.innerHeight;
  }
  window.addEventListener("resize", resizeCanvas);
  resizeCanvas();

  function createMeteor() {
    return {
      x: Math.random() * canvas.width,
      y: -10,
      length: Math.random() * 80 + 10,
      speed: Math.random() * 4 + 2,
      angle: Math.PI / 4,
      opacity: Math.random() * 0.5 + 0.3
    };
  }

  function drawMeteor(meteor) {
    const xEnd = meteor.x + meteor.length * Math.cos(meteor.angle);
    const yEnd = meteor.y + meteor.length * Math.sin(meteor.angle);

    ctx.beginPath();
    ctx.moveTo(meteor.x, meteor.y);
    ctx.lineTo(xEnd, yEnd);
    ctx.strokeStyle = `rgba(255,255,255,${meteor.opacity})`;
    ctx.lineWidth = 2;
    ctx.stroke();
  }

  function animate() {
    ctx.clearRect(0, 0, canvas.width, canvas.height);

    if (Math.random() < 0.05) meteors.push(createMeteor());

    meteors.forEach((meteor, index) => {
      meteor.x += meteor.speed * Math.cos(meteor.angle);
      meteor.y += meteor.speed * Math.sin(meteor.angle);
      drawMeteor(meteor);

      if (meteor.y > canvas.height || meteor.x > canvas.width) {
        meteors.splice(index, 1);
      }
    });

    requestAnimationFrame(animate);
  }

  animate();
</script>
